# Mattermost チャットアプリ テストチェックリスト

## 必須確認項目（すべての変更時に実施）

### 1. 基本機能テスト
- [ ] ログイン機能
  - [ ] 正しい認証情報でログイン成功
  - [ ] 誤った認証情報でエラー表示
  - [ ] セッション復元機能

### 2. チャンネル機能
- [ ] チャンネルリスト表示
  - [ ] 実チャンネルの表示
  - [ ] 最新メッセージプレビュー
  - [ ] 未読バッジ表示
  - [ ] フィルター機能（デフォルト「佐藤」）
- [ ] チャンネル選択
  - [ ] クリックで適切なチャンネルに切り替え
  - [ ] チャンネル内容の表示

### 3. メッセージング機能
- [ ] メッセージ表示
  - [ ] 既存メッセージの表示
  - [ ] ユーザー名表示（IDではなく）
  - [ ] タイムスタンプ表示
- [ ] メッセージ送信
  - [ ] **テキスト入力欄が有効**
  - [ ] **Enterキーで送信**
  - [ ] **送信ボタンクリックで送信**
  - [ ] **送信後入力欄クリア**
  - [ ] **送信メッセージの即時表示**

### 4. リアルタイム機能
- [ ] WebSocket接続状態表示
- [ ] リアルタイムメッセージ受信
- [ ] 他ユーザーからのメッセージ表示

### 5. UI/UX確認
- [ ] レスポンシブデザイン
- [ ] ローディング状態
- [ ] エラー状態
- [ ] 日本語表示

## テスト実施方法

### 自動テスト（推奨）
```bash
# Playwright MCPを使用した自動テスト
npm run test:e2e
```

### 手動テスト
1. 開発サーバー起動: `npm run dev`
2. ブラウザで http://localhost:5173 にアクセス
3. 上記チェックリストを順番に確認

## 環境切り替え時の追加確認

### モックデータ → 実データ切り替え時
- [ ] DEVELOPMENT_MODE = false に設定
- [ ] Mattermostサーバー起動確認
- [ ] 実チャンネルでのメッセージ送受信
- [ ] WebSocket接続確認

### 実データ → モックデータ切り替え時
- [ ] DEVELOPMENT_MODE = true に設定
- [ ] モックチャンネルでの動作確認
- [ ] ローカルストレージの動作

## トラブルシューティング

### よくある問題と解決方法

1. **テキスト入力欄が無効**
   - 原因: チャンネルが正しく認識されていない
   - 確認: `isRealMattermostChannel`の判定ロジック
   - 解決: チャンネルIDの形式を確認

2. **メッセージが表示されない**
   - 原因: API通信エラーまたはWebSocket未接続
   - 確認: ブラウザコンソールのエラー
   - 解決: Mattermostサーバーの状態確認

3. **ログインできない**
   - 原因: Mattermostアカウント未作成または認証情報誤り
   - 確認: Mattermostの初期設定
   - 解決: 自動セットアップスクリプト実行

## 重要な注意事項

⚠️ **機能実装後は必ずエンドツーエンドの動作確認を実施すること**
⚠️ **UIの表示だけでなく、ユーザーインタラクションも必ずテストすること**
⚠️ **環境を切り替えた場合は、全機能の回帰テストを実施すること**